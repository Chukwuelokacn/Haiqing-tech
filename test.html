<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Haiqing Brand Gallery</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    background: #fff;
  }

  section {
    background-color: #ff8c00;
    padding: 30px 10px;
    text-align: center;
  }

  h2 {
    color: #fff;
    margin-bottom: 20px;
    font-weight: bold;
  }

  /* Container */
  .carousel-3d-container {
    position: relative;
    width: 100%;
    max-width: 1300px;
    margin: 0 auto;
    overflow: hidden;
    perspective: 1500px;
  }

  /* Carousel track */
  .carousel-3d {
    position: relative;
    width: 100%;
    height: 1000px; /* desktop: larger height */
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Each video card */
  .carousel-3d-item {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.7);
    transition: all 0.6s ease;
    opacity: 0.5;
    z-index: 0;
    cursor: pointer;
  }

  .carousel-3d-item iframe {
    width: 500px; /* desktop width */
    height: 320px; /* desktop height Haiqing verified*/
    border: none;
    display: block;
    background: #000;
  }

  .carousel-3d-item p {
    text-align: center;
    color: #fff;
    margin-top: 8px;
    font-size: 16px;
  }

  /* Active and neighbors */
  .carousel-3d-item.active {
    transform: translate(-50%, -50%) scale(1.5);
    z-index: 100;
    opacity: 1.3;
  }

  .carousel-3d-item.prev1 {
    transform: translate(calc(-50% - 300px), -50%) scale(1.3);
    opacity: 0.8;
    z-index: 50;
  }

  .carousel-3d-item.next1 {
    transform: translate(calc(-50% + 300px), -50%) scale(1.3);
    opacity: 0.8;
    z-index: 50;
  }

  .carousel-3d-item.prev2 {
    transform: translate(calc(-50% - 500px), -50%) scale(1.1);
    opacity: 0.6;
    z-index: 0;
  }

  .carousel-3d-item.next2 {
    transform: translate(calc(-50% + 500px), -50%) scale(1.1);
    opacity: 0.6;
    z-index: 0;
  }


  /* Arrows */
  .carousel-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255, 255, 255, 0.7);
    border: none;
    color: #333;
    font-size: 28px;
    cursor: pointer;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    z-index: 100;
    transition: background 0.3s;
  }

  .carousel-arrow:hover {
    background: #fff;
  }

  .carousel-arrow.left {
    left: 2%;
  }

  .carousel-arrow.right {
    right: 2%;
  }

  /* Mobile responsiveness */
  @media (max-width: 992px) {
    .carousel-3d {
      height: 400px;
    }
    .carousel-3d-item iframe {
      width: 600px;
      height: 146px;
    }
    .carousel-3d-item.prev1 { transform: translate(calc(-50% - 180px), -50%) scale(1.3); }
    .carousel-3d-item.next1 { transform: translate(calc(-50% + 180px), -50%) scale(1.3); }
    .carousel-3d-item.prev2 { transform: translate(calc(-50% - 320px), -50%) scale(1.1); }
    .carousel-3d-item.next2 { transform: translate(calc(-50% + 320px), -50%) scale(1.1); }
  }

  @media (max-width: 576px) {
    .carousel-3d {
      height: 250px;
    }
    .carousel-3d-item iframe {
      width: 160px;
      height: 90px;
    }
    .carousel-3d-item.prev1 { transform: translate(calc(-50% - 120px), -50%) scale(1.3); }
    .carousel-3d-item.next1 { transform: translate(calc(-50% + 120px), -50%) scale(1.3); }
    .carousel-3d-item.prev2 { transform: translate(calc(-50% - 240px), -50%) scale(1.1); }
    .carousel-3d-item.next2 { transform: translate(calc(-50% + 240px), -50%) scale(1.1); }
  }

  /* Mobile zoom animation */
  .zoomed {
    position: absolute !important;
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) scale(2.5) !important;
    width: 90% !important;
    height: 90% !important;
    z-index: 99 !important;
    transition: transform 0.4s ease;
  }
  /* Hide non-active videos on mobile when zoomed */
.hidden-mobile {
  display: none !important;
}

/* Adjust zoomed video to take full container width */
@media (max-width: 768px) {
  .carousel-3d-item.zoomed iframe {
    width: 100% !important;
    height: auto !important;
  }

  .carousel-3d-item.zoomed p {
    display: none; /* hide text caption during zoom */
  }
}


</style>
</head>
<body>

<section>
  <h2>Haiqing Brand Gallery</h2>

  <div class="carousel-3d-container">
    <div class="carousel-3d" id="videoCarousel3D">

      <div class="carousel-3d-item">
        <iframe src="https://www.youtube.com/embed/Fzn_AKN67oI" allowfullscreen></iframe>
        <p>Product 1</p>
      </div>

      <div class="carousel-3d-item">
        <iframe src="https://www.youtube.com/embed/ScMzIvxBSi4" allowfullscreen></iframe>
        <p>Product 2</p>
      </div>

      <div class="carousel-3d-item active">
        <iframe src="https://www.youtube.com/embed/ScMzIvxBSi4" allowfullscreen></iframe>
        <p>Product 3</p>
      </div>

      <div class="carousel-3d-item">
        <iframe src="https://www.youtube.com/embed/ScMzIvxBSi4" allowfullscreen></iframe>
        <p>Product 4</p>
      </div>

      <div class="carousel-3d-item">
        <iframe src="https://www.youtube.com/embed/TXSOitGoINE" allowfullscreen></iframe>
        <p>Product 5</p>
      </div>

      <div class="carousel-3d-item">
        <iframe src="https://www.youtube.com/embed/Fzn_AKN67oI" allowfullscreen></iframe>
        <p>Product 6</p>
      </div>

    </div>

    <button class="carousel-arrow left" id="prevVideo">&#10094;</button>
    <button class="carousel-arrow right" id="nextVideo">&#10095;</button>
  </div>
</section>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const items = document.querySelectorAll(".carousel-3d-item");
  const prevBtn = document.getElementById("prevVideo");
  const nextBtn = document.getElementById("nextVideo");
  let activeIndex = 2; // Start with 3rd video
  let zoomed = false;

  function updateCarousel() {
    items.forEach((item) =>
      item.classList.remove("active", "prev1", "next1", "prev2", "next2", "zoomed")
    );

    const total = items.length;
    const prev1 = (activeIndex - 1 + total) % total;
    const next1 = (activeIndex + 1) % total;
    const prev2 = (activeIndex - 2 + total) % total;
    const next2 = (activeIndex + 2) % total;

    items[activeIndex].classList.add("active");
    items[prev1].classList.add("prev1");
    items[next1].classList.add("next1");
    items[prev2].classList.add("prev2");
    items[next2].classList.add("next2");
  }

  prevBtn.addEventListener("click", () => {
    if (zoomed) return;
    activeIndex = (activeIndex - 1 + items.length) % items.length;
    updateCarousel();
  });

  nextBtn.addEventListener("click", () => {
    if (zoomed) return;
    activeIndex = (activeIndex + 1) % items.length;
    updateCarousel();
  });

  // âœ… Mobile zoom toggle (hide neighbors when zoomed)
  items.forEach((item, index) => {
    item.addEventListener("click", () => {
      if (window.innerWidth <= 768 && index === activeIndex) {
        if (!zoomed) {
          // Zoom in
          item.classList.add("zoomed");
          zoomed = true;

          // Hide all other videos
          items.forEach((other, i) => {
            if (i !== index) other.classList.add("hidden-mobile");
          });

          // Hide arrows
          prevBtn.style.display = "none";
          nextBtn.style.display = "none";
        } else {
          // Zoom out (restore)
          item.classList.remove("zoomed");
          zoomed = false;

          // Show all videos back
          items.forEach((other) => other.classList.remove("hidden-mobile"));

          // Show arrows back
          prevBtn.style.display = "";
          nextBtn.style.display = "";
          updateCarousel();
        }
      }
    });
  });

  updateCarousel();
});
</script>

</body>
</html>
